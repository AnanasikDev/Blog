<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="I really wanted to play Horza Horizon 4 with a wheel... so I made one."><title>How I made my own steering wheel using only my laptop</title><link rel=canonical href=https://demo.stack.jimmycai.com/p/no_hardware_racing_setup/><link rel=stylesheet href=/scss/style.min.6a692fd055deae459f2a9767f57f3855ba80cafd5041317f24f7360f6ca47cdf.css><meta property='og:title' content="How I made my own steering wheel using only my laptop"><meta property='og:description' content="I really wanted to play Horza Horizon 4 with a wheel... so I made one."><meta property='og:url' content='https://demo.stack.jimmycai.com/p/no_hardware_racing_setup/'><meta property='og:site_name' content='AnanaSeek4Jam'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Games'><meta property='article:tag' content='Programming'><meta property='article:tag' content='Python'><meta property='article:tag' content='Computer Vision'><meta property='article:tag' content='Proof of concept'><meta property='article:published_time' content='2024-11-20T00:00:00+00:00'><meta property='article:modified_time' content='2024-11-20T00:00:00+00:00'><meta name=twitter:title content="How I made my own steering wheel using only my laptop"><meta name=twitter:description content="I really wanted to play Horza Horizon 4 with a wheel... so I made one."><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_f3fe9e779fda5cea.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üêØ</span></figure><div class=site-meta><h1 class=site-name><a href=/>AnanaSeek4Jam</a></h1><h2 class=site-description>I am a programmer, artist, writer and furry</h2></div></header><ol class=menu-social><li><a href=https://www.artstation.com/ananasikfurry target=_blank title=Artstation rel=me><svg role="img" viewBox="0 0 24 24"><title>ArtStation</title><path d="M0 17.723l2.027 3.505h.001a2.424 2.424.0 002.164 1.333h13.457l-2.792-4.838H0zm24 .025c0-.484-.143-.935-.388-1.314L15.728 2.728a2.424 2.424.0 00-2.142-1.289H9.419L21.598 22.54l1.92-3.325c.378-.637.482-.919.482-1.467zm-11.129-3.462L7.428 4.858l-5.444 9.428h10.887z"/></svg></a></li><li><a href=https://bsky.app/profile/ananaseek4jam.bsky.social target=_blank title=Bluesky rel=me><svg role="img" viewBox="0 0 24 24"><title>Bluesky</title><path d="M5.202 2.857C7.954 4.922 10.913 9.11 12 11.358c1.087-2.247 4.046-6.436 6.798-8.501C20.783 1.366 24 .213 24 3.883c0 .732-.42 6.156-.667 7.037-.856 3.061-3.978 3.842-6.755 3.37 4.854.826 6.089 3.562 3.422 6.299-5.065 5.196-7.28-1.304-7.847-2.97-.104-.305-.152-.448-.153-.327.0-.121-.05.022-.153.327-.568 1.666-2.782 8.166-7.847 2.97-2.667-2.737-1.432-5.473 3.422-6.3-2.777.473-5.899-.308-6.755-3.369C.42 10.04.0 4.615.0 3.883.0.213 3.217 1.366 5.202 2.857"/></svg></a></li><li><a href=https://github.com/AnanasikDev target=_blank title=GitHub rel=me><svg role="img" viewBox="0 0 24 24"><title>GitHub</title><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a></li><li><a href=https://www.artstation.com/ananasikfurry target=_blank title=Itch.io rel=me><svg role="img" viewBox="0 0 24 24"><title>Itch.io</title><path d="M3.13 1.338C2.08 1.96.02 4.328.0 4.95v1.03c0 1.303 1.22 2.45 2.325 2.45 1.33.0 2.436-1.102 2.436-2.41.0 1.308 1.07 2.41 2.4 2.41 1.328.0 2.362-1.102 2.362-2.41.0 1.308 1.137 2.41 2.466 2.41h.024c1.33.0 2.466-1.102 2.466-2.41.0 1.308 1.034 2.41 2.363 2.41 1.33.0 2.4-1.102 2.4-2.41.0 1.308 1.106 2.41 2.435 2.41C22.78 8.43 24 7.282 24 5.98V4.95c-.02-.62-2.082-2.99-3.13-3.612-3.253-.114-5.508-.134-8.87-.133-3.362.0-7.945.053-8.87.133zm6.376 6.477a2.74 2.74.0 01-.468.602c-.5.49-1.19.795-1.947.795a2.786 2.786.0 01-1.95-.795c-.182-.178-.32-.37-.446-.59-.127.222-.303.412-.486.59a2.788 2.788.0 01-1.95.795c-.092.0-.187-.025-.264-.052-.107 1.113-.152 2.176-.168 2.95v.005l-.006 1.167c.02 2.334-.23 7.564 1.03 8.85 1.952.454 5.545.662 9.15.663 3.605.0 7.198-.21 9.15-.664 1.26-1.284 1.01-6.514 1.03-8.848l-.006-1.167v-.004c-.016-.775-.06-1.838-.168-2.95-.077.026-.172.052-.263.052a2.788 2.788.0 01-1.95-.795c-.184-.178-.36-.368-.486-.59-.127.22-.265.412-.447.59a2.786 2.786.0 01-1.95.794c-.76.0-1.446-.303-1.948-.793a2.74 2.74.0 01-.468-.602 2.738 2.738.0 01-.463.602 2.787 2.787.0 01-1.95.794h-.16a2.787 2.787.0 01-1.95-.793 2.738 2.738.0 01-.464-.602zm-2.004 2.59v.002c.795.002 1.5.0 2.373.953.687-.072 1.406-.108 2.125-.107.72.0 1.438.035 2.125.107.873-.953 1.578-.95 2.372-.953.376.0 1.876.0 2.92 2.934l1.123 4.028c.832 2.995-.266 3.068-1.636 3.07-2.03-.075-3.156-1.55-3.156-3.025-1.124.184-2.436.276-3.748.277-1.312.0-2.624-.093-3.748-.277.0 1.475-1.125 2.95-3.156 3.026-1.37-.004-2.468-.077-1.636-3.072l1.122-4.027c1.045-2.934 2.545-2.934 2.92-2.934zM12 12.714c-.002.002-2.14 1.964-2.523 2.662l1.4-.056v1.22c0 .056.56.033 1.123.007.562.026 1.124.05 1.124-.008v-1.22l1.4.055C14.138 14.677 12 12.713 12 12.713z"/></svg></a></li><li><a href=https://www.youtube.com/@ananaseek target=_blank title=Youtube rel=me><svg role="img" viewBox="0 0 24 24"><title>YouTube</title><path d="M23.498 6.186A3.016 3.016.0 0021.376 4.05C19.505 3.545 12 3.545 12 3.545s-7.505.0-9.377.505A3.017 3.017.0 00.502 6.186C0 8.07.0 12 0 12s0 3.93.502 5.814a3.016 3.016.0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505.0 9.377-.505a3.015 3.015.0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><ol><li><a href=#why>Why?</a></li></ol></li><li><a href=#racing-setup>Racing setup</a><ol><li><a href=#what>What?</a></li><li><a href=#how>How?</a><ol><li><a href=#steering-wheel>Steering wheel</a></li><li><a href=#pedals>Pedals</a></li></ol></li><li><a href=#practical-and-theoretical-advantages-of-sdds-in-racing-gaming>Practical and theoretical advantages of SDDs in racing gaming</a></li><li><a href=#requirements-and-limitations>Requirements and limitations</a></li></ol></li><li><a href=#sdds-in-other-spheres>SDDs in other spheres</a><ol><li><a href=#animal-gaming>Animal gaming</a></li><li><a href=#fighting-using-magic-wands-etc>Fighting, using magic wands etc</a></li><li><a href=#natural-visual-or-audio-inputs>Natural visual or audio inputs</a></li></ol></li><li><a href=#overall-technology-advantages>Overall technology advantages</a></li><li><a href=#implementation-details>Implementation details</a><ol><li><a href=#using-bounding-boxes-for-static-or-semi-static-inputs>Using bounding boxes for static or semi-static* inputs</a></li><li><a href=#using-spectrum-of-colors>Using spectrum of colors</a></li><li><a href=#calibration>Calibration</a></li></ol></li><li><a href=#afterthoughts>Afterthoughts</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/p/no_hardware_racing_setup/>How I made my own steering wheel using only my laptop</a></h2><h3 class=article-subtitle>I really wanted to play Horza Horizon 4 with a wheel... so I made one.</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Nov 11, 202011</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>7 minute read</time></div></footer></div></header><section class=article-content><h1 id=software-driven-devices-in-gaming>Software-Driven Devices in gaming</h1><p>In this essay, I want to discuss opportunities that computer vision (possibly in combination with other inputs) provides in gaming, how it can be implemented, describe several approaches to it and their benefits, and discuss the theoretical future of this technology.</p><p>My idea revolves around eliminating additional hardware accessories, leaving only a laptop, phone or tablet which are non-specific to gaming. Depending on the desired result, one may make marker-devices (MD for short) which are physical attributes one can use to play games.</p><h3 id=why>Why?</h3><p>Hardware is expensive, inconvenient in transportation, difficult in distribution and modification, and barely sustainable in home conditions. In contrast, Software-Driven Devices (SDD for short) can be made at home; their price consists only of the cost of materials; and they are highly customizable.</p><h2 id=racing-setup>Racing setup</h2><h3 id=what>What?</h3><p>The term &ldquo;racing setup&rdquo; here refers to devices one needs to play racing video games. Racing setups usually include a steering wheel, two or three pedals, and, in more expensive models, also gearbox, turn signals and other car controls. The most important parts of it that I will cover more profoundly in this essay are steering wheel and gas and brake pedals.</p><h3 id=how>How?</h3><p>Generally, the idea behind SDD is in utilizing computer vision (through camera) as the only (or, at least, primary) source of input for a computer, eliminating need in any classical, hardware-driven-devices.</p><h4 id=steering-wheel>Steering wheel</h4><p>The steering wheel has only one key property - angle. It can easily be detected by using special colored markers on the wheel for software to detect their positions and movement. By using several (at least three, theoretically) markers of different colors, sizes, or distances from the center evenly distributed along the circumference for better accuracy, steering wheel can rotate freely by 360 degrees without blind zones. If camera can capture the whole surface of the steering wheel without interruptions, then one marker should be enough; otherwise (if any objects obscure the visibility of some parts of the wheel) the method described above will help achieve identical result.</p><p>To calculate angle, computer also has to know center point of the steering wheel, which can be defined at calibration (more about it later).</p><h4 id=pedals>Pedals</h4><p>A pedal has upper and lower limits and current value. Limits can be set at calibration, and current value can be calculated knowing position of the corresponding marker on the screen and size of the last.</p><p>Pedals are somewhat more creative in implementation than steering wheel. My approach was to hang a marker on a handle which can be moved up and down by pulling and releasing a string with your leg. This way I could achieve the best result both in terms of usability and accuracy and stability of results.</p><h3 id=practical-and-theoretical-advantages-of-sdds-in-racing-gaming>Practical and theoretical advantages of SDDs in racing gaming</h3><p>1.1 Near-zero cost of your SDDs<br>1.2 Full customization of your controls<br>1.3 Lightweight, simple to make, easy to take with you<br>2.1 Usually provides acceptable or good control (for non-competitive gameplay) - can be improved<br>2.2 Can use inputs from gestures and mimics (instead of or in addition to MDs)</p><h3 id=requirements-and-limitations>Requirements and limitations</h3><p>Computer vision strictly depends on lighting and camera quality. Standard laptop camera can capture 20-30 frames per second which might cause a delay which can be crucial when playing racing games. Can be solved by connecting a phone with better camera or an external camera.</p><p>Lighting should be bright and even. If lighting changes between gaming sessions, software should be recalibrated.</p><h2 id=sdds-in-other-spheres>SDDs in other spheres</h2><h3 id=animal-gaming>Animal gaming</h3><p>With SDD technologies animals can play video games naturally without using any hardware and adhering to physical constraints. Software could track animal&rsquo;s movements and sounds and read them as an input.</p><p>With such unpredictable input however, SDDs might need not just computer vision but an AI component to it to analyze input more accurately (AI might increase accuracy with any SDDs).</p><h3 id=fighting-using-magic-wands-etc>Fighting, using magic wands etc</h3><p>Playing fighting games where you actually fight (with air, at least), dancing where you dance, using magic wands with real hand gestures and pronouncing spells is also possible using SDDs. Similar to VR, you can use your own body as an input device.</p><h3 id=natural-visual-or-audio-inputs>Natural visual or audio inputs</h3><p>With computer monitoring player&rsquo;s mimics, gestures, body movements and words, gaming might become more natural, with games receiving emotional feedback directly* rather than analyzing player actions and outcomes. It can suit highly emotional games like horrors, visual novels, (possibly new genres, revolving around emotional feedback from player) and so on with classic algorithms or AIs analyzing player&rsquo;s emotions through camera and microphone and adjusting the game correspondingly.</p><p>*mimics, eye movement and body language can reflect one&rsquo;s mood better than actions in a game which are easier to control and less prone to emotional influence.</p><h2 id=overall-technology-advantages>Overall technology advantages</h2><p>1.1 Near-zero cost of your SDDs<br>1.2 Full customization of your controls<br>1.3 Lightweight, simple to make, easy to take with you<br>2.1 Usually provides acceptable or good control (for non-competitive gameplay)<br>2.2 Can be extended to any kind of visual inputs (specific attributes, mimics, hand/body gestures, dance pad and so on) (might even eliminate need for any physical &ldquo;devices&rdquo;)<br>2.3 Can be used by multiple users and animals<br>2.4 Can be extended to be usable in non-racing games (VR with SDDs or other)<br>3.1 Can give new gaming experience</p><h2 id=implementation-details>Implementation details</h2><h3 id=using-bounding-boxes-for-static-or-semi-static-inputs>Using bounding boxes for static or semi-static* inputs</h3><p>Dealing with computer-vision-based input, we should always contraint it to prevent ambiguous or wrong calculations. When setting up an input marker (steering wheel, pedal, buttons, triggers etc) we shall always (unless dealing with body inputs) define areas where it is located. This way, markers can share the same color scheme and still be unambiguous to the software as they are defined in different contexts.</p><p>*semi-static inputs here refer to inputs which always adhere to same rules and whose properties can be predicted (e.g. a marker moving only vertically)</p><h3 id=using-spectrum-of-colors>Using spectrum of colors</h3><p>Using contrast colors for markers and algorithms to analyze colors is crucial for accuracy and stability in CV-based SDDs. Acceptable color range depends on lighting conditions, camera quality, marker color and background color.</p><p>When making a CV-based controller in Python, you can simply use <code>numpy</code> and <code>cv2</code> libraries as following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=k>def</span> <span class=nf>detect_color_spots</span><span class=p>(</span><span class=n>hsv</span><span class=p>,</span> <span class=n>lower_bound</span><span class=p>,</span> <span class=n>upper_bound</span><span class=p>,</span> <span class=n>area</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># constrain inputs to color range</span>
</span></span><span class=line><span class=cl>    <span class=n>mask</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>inRange</span><span class=p>(</span><span class=n>hsv</span><span class=p>,</span> <span class=n>lower_bound</span><span class=p>,</span> <span class=n>upper_bound</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># constrain inputs to area</span>
</span></span><span class=line><span class=cl>    <span class=n>mask</span> <span class=o>=</span> <span class=n>mask</span><span class=p>[</span><span class=n>area</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>1</span><span class=p>]:</span><span class=n>area</span><span class=p>[</span><span class=mi>1</span><span class=p>][</span><span class=mi>1</span><span class=p>],</span> <span class=n>area</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]:</span><span class=n>area</span><span class=p>[</span><span class=mi>1</span><span class=p>][</span><span class=mi>0</span><span class=p>]]</span> 
</span></span><span class=line><span class=cl>   
</span></span><span class=line><span class=cl>    <span class=n>contours</span><span class=p>,</span> <span class=n>_</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>findContours</span><span class=p>(</span><span class=n>mask</span><span class=p>,</span> <span class=n>cv2</span><span class=o>.</span><span class=n>RETR_TREE</span><span class=p>,</span> <span class=n>cv2</span><span class=o>.</span><span class=n>CHAIN_APPROX_SIMPLE</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>contours</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># find largest contour found</span>
</span></span><span class=line><span class=cl>        <span class=n>largest_contour</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>contours</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=n>cv2</span><span class=o>.</span><span class=n>contourArea</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>M</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>moments</span><span class=p>(</span><span class=n>largest_contour</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># calculate center position</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>M</span><span class=p>[</span><span class=s2>&#34;m00&#34;</span><span class=p>]</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>cX</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>M</span><span class=p>[</span><span class=s2>&#34;m10&#34;</span><span class=p>]</span> <span class=o>/</span> <span class=n>M</span><span class=p>[</span><span class=s2>&#34;m00&#34;</span><span class=p>])</span> <span class=o>+</span> <span class=n>area</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>cY</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>M</span><span class=p>[</span><span class=s2>&#34;m01&#34;</span><span class=p>]</span> <span class=o>/</span> <span class=n>M</span><span class=p>[</span><span class=s2>&#34;m00&#34;</span><span class=p>])</span> <span class=o>+</span> <span class=n>area</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=p>(</span><span class=n>cX</span><span class=p>,</span> <span class=n>cY</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>None</span>
</span></span></code></pre></td></tr></table></div></div><p>and then find all spots of the given color range</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=n>red_range</span> <span class=o>=</span> <span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>100</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>]),</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>255</span><span class=p>,</span> <span class=mi>120</span><span class=p>,</span> <span class=mi>120</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>spot_position</span> <span class=o>=</span> <span class=n>detect_color_spots</span><span class=p>(</span><span class=n>hsv</span><span class=p>,</span> <span class=n>red_range</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>red_range</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=n>areas</span><span class=p>[</span><span class=s1>&#39;steering&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>spot_position</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># store the calculated position</span>
</span></span><span class=line><span class=cl>    <span class=n>steering_spot_position</span> <span class=o>=</span> <span class=n>spot_position</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=calibration>Calibration</h3><p>Calibration is necessary to adapt software to current lighting and setup. Calibration might include steps such as setting positions, default values, limits, defining areas, adjusting color sensitivity. It might be done automatically (when feedback is given by computer itself), semi-automatically (when user gives feedback) and manually (when user sets all values themselves).</p><p>Calibration methods can be combined to achieve best accuracy and customization. In my racing setup I used semi-automatic approach for inferring steering wheel center and radius with user fixing these values by pressing certain keys on keyboard. This way, user can fine tune final values without doing tedious and prone-to-error calculations themselves.</p><h2 id=afterthoughts>Afterthoughts</h2><p>It must have certainly been invented before me and I am sure games and technologies as I described and designed already exist, but they remain unknown to the public. I would love to see (and possibly make) this industry grow and thrive to let everyone feel gaming differently.</p><p>I think playing games by actually moving your body, making gestures that mean something in the digital universe, talking to NPCs with your own voice can bring gaming to a whole new level. Gaming can become physically active, diverse, even more immersive and even more accessible.</p><p>Less accessible but more immersive option I am thinking about is playing in front of a huge screen with camera put somewhere, when you can play bowling or fight with orcs or shoot a bow as flawlessly and seamlessly as it was real life or VR, but with no equipment and no risks.</p><p>This essay is inspired by one of my projects - <a class=link href=https://github.com/AnanasikDev/RacingCVController target=_blank rel=noopener>Racing CV Controller (github link)</a>. I already wrote a post on reddit <a class=link href=https://www.reddit.com/r/computervision/comments/1gi8xwx/homemade_nohardware_racing_setup/ target=_blank rel=noopener>here</a> but later I wanted to extend it with more general and detailed thoughts. I think it&rsquo;s more than a joke project and one day it could bring a lot of joy and new good experience to people.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/games/>Games</a>
<a href=/tags/programming/>Programming</a>
<a href=/tags/python/>Python</a>
<a href=/tags/computer-vision/>Computer Vision</a>
<a href=/tags/proof-of-concept/>Proof of Concept</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 AnanaSeek4Jam</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.31.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>